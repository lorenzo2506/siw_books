<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: base(~{::title}, ~{::main})}">
<head>
    <title>Autori - Biblioteca Storica</title>
</head>
<body>
    <main class="authors-page">
        <div class="container">
            
            <!-- Header della pagina autori -->
            <div class="authors-header">
                <h1 class="authors-title">I Nostri Autori</h1>
                <p class="authors-subtitle">Scopri gli scrittori e i pensatori della nostra collezione</p>
            </div>
            
            <!-- Lista autori -->
            <div th:if="${!#lists.isEmpty(authors)}">
                <div class="authors-grid">
                    <div class="author-card" th:each="author : ${authors}">
                        <a th:href="@{'/author/' + ${author.id}}" class="author-card-link">
                            
                            <!-- Immagine dell'autore -->
                            <div class="author-card-image">
                                <img th:if="${author.hasImage()}" 
                                     th:src="@{'/images/' + ${author.imagePath}}" 
                                     th:alt="${author.name + ' ' + author.surname}"
                                     class="author-photo-small" />
                                     
                                <div th:unless="${author.hasImage()}" class="author-placeholder">
                                    <span class="placeholder-icon">üë§</span>
                                </div>
                            </div>
                            
                            <!-- Informazioni dell'autore -->
                            <div class="author-card-content">
                                <h3 class="author-card-name" th:text="${author.name + ' ' + author.surname}">Nome Cognome</h3>
                                
                                <div class="author-card-dates">
                                    <span class="birth-date" th:text="${#temporals.format(author.dateOfBirth, 'yyyy')}">1900</span>
                                    <span th:if="${author.dateOfDeath != null}" class="date-separator"> - </span>
                                    <span th:if="${author.dateOfDeath != null}" 
                                          class="death-date" 
                                          th:text="${#temporals.format(author.dateOfDeath, 'yyyy')}">2000</span>
                                    <span th:if="${author.dateOfDeath == null}" class="living-indicator"> - Vivente</span>
                                </div>
                                
                                <div class="author-card-books" th:if="${author.books != null and !author.books.isEmpty()}">
                                    <span class="books-count" th:text="${#lists.size(author.books)} + ' opere'">3 opere</span>
                                </div>
                                
                                <div class="author-card-books" th:if="${author.books == null or author.books.isEmpty()}">
                                    <span class="no-books-text">Nessuna opera nel catalogo</span>
                                </div>
                            </div>
                            
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Stato vuoto -->
            <div class="empty-state" th:if="${#lists.isEmpty(authors)}">
                <div class="empty-state-icon">üë•</div>
                <h2>Nessun autore presente</h2>
                <p>Non ci sono autori nel sistema al momento.</p>
                <a th:href="@{/}" class="back-to-menu">
                    <span class="btn-icon">üè†</span>
                    Torna al Menu Principale
                </a>
            </div>
            
            <!-- Link di ritorno -->
            <div class="authors-navigation" th:if="${!#lists.isEmpty(authors)}">
                <a th:href="@{/}" class="back-to-menu">
                    <span class="btn-icon">üè†</span>
                    Torna al Menu Principale
                </a>
            </div>
            
        </div>
    </main>
</body>
</html>