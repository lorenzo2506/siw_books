<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: base(~{::title}, ~{::main})}">
<head>
    <title th:text="${author.name + ' ' + author.surname + ' - Biblioteca Storica'}">Autore - Biblioteca Storica</title>
</head>
<body>
    <main class="author-detail-page">
        <div class="container">
            <div class="author-container">
                
                <!-- Header dell'autore -->
                <div class="author-header">
                    <h1>Descrizione Autore</h1>
                </div>
                
                <!-- Contenuto principale dell'autore -->
                <div class="author-content">
                    
                    <!-- Sezione Immagine dell'autore -->
                    <div class="author-image-section">
                        <!-- Immagine dell'autore -->
                        <div class="author-image-container" th:if="${author.hasImage()}">
                            <img th:src="@{'/images/' + ${author.imagePath}}" 
                                 th:alt="${author.name + ' ' + author.surname}"
                                 class="author-photo" />
                        </div>
                        
                        <!-- Placeholder se non c'√® immagine -->
                        <div class="no-image-elegant" th:unless="${author.hasImage()}">
                            <div class="author-icon">üë§</div>
                            <p>Foto non disponibile</p>
                        </div>
                    </div>
                    
                    <!-- Informazioni dell'autore -->
                    <div class="author-info">
                        <h1 class="author-name-detail" th:text="${author.name + ' ' + author.surname}">Nome Cognome</h1>
                        
                        <!-- Informazioni biografiche -->
                        <div class="author-biography">
                            <div class="bio-item">
                                <span class="bio-label">Nome:</span>
                                <span class="bio-value" th:text="${author.name}">Nome</span>
                            </div>
                            
                            <div class="bio-item">
                                <span class="bio-label">Cognome:</span>
                                <span class="bio-value" th:text="${author.surname}">Cognome</span>
                            </div>
                            
                            <div class="bio-item">
                                <span class="bio-label">Data di nascita:</span>
                                <span class="bio-value" th:text="${#temporals.format(author.dateOfBirth, 'dd/MM/yyyy')}">01/01/1900</span>
                            </div>
                            
                            <div class="bio-item" th:if="${author.dateOfDeath != null}">
                                <span class="bio-label">Data di morte:</span>
                                <span class="bio-value" th:text="${#temporals.format(author.dateOfDeath, 'dd/MM/yyyy')}">01/01/2000</span>
                            </div>
                            
                            <div class="bio-item">
							    <span class="bio-label">Nazionalit√†:</span>
							    <span class="bio-value" th:text="${author.nationality ?: 'Non specificata'}">Italiana</span>
							</div>
                        </div>
                        
                        <!-- Stato dell'autore -->
                        <div class="author-status">
                            <div class="status-indicator" th:if="${author.dateOfDeath == null}">
                                <span class="status-icon">üíö</span>
                                <span class="status-text">Autore vivente</span>
                            </div>
                            <div class="status-indicator" th:if="${author.dateOfDeath != null}">
                                <span class="status-icon">üïäÔ∏è</span>
                                <span class="status-text">Autore deceduto</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Sezione Libri dell'autore -->
                <div class="author-books-section">
                    <h2>Opere dell'autore</h2>
                    <div class="books-list" th:if="${author.books != null and !author.books.isEmpty()}">
                        <a th:each="book : ${author.books}" 
                           th:href="@{'/book/' + ${book.id}}" 
                           class="book-link">
                           <span class="book-title" th:text="${book.title}">Titolo del Libro</span>
                           <span class="book-year" th:text="'(' + ${book.year} + ')'"> (Anno)</span>
                        </a>
                    </div>
                    <div class="no-books" th:if="${author.books == null or author.books.isEmpty()}">
                        <div class="empty-icon">üìö</div>
                        <p>Nessuna opera presente nel catalogo</p>
                    </div>
                </div>
                
                <!-- Azioni -->
                <div class="author-actions">
                    <a th:href="@{/authors}" class="btn btn-secondary">
                        <span class="btn-icon">üë•</span>
                        Torna agli Autori
                    </a>
                    <a th:if="${author.books != null and !author.books.isEmpty()}" 
                       th:href="@{'/book/' + ${author.books[0].id}}" 
                       class="btn btn-outline">
                        <span class="btn-icon">üìñ</span>
                        Vedi Prima Opera
                    </a>
                </div>
                
            </div>
        </div>
    </main>
</body>
</html>